# Gateway设计

## 基本要求
一个网关系统基本需要有以下功能

1. 路由
2. 服务注册
3. 服务发现
4. 负载均衡
5. 网络安全

除了功能，对于网关的性能也有一定要求。网关是所有流量的入口，所以一定不能成为整个项目的性能瓶颈。这就要求我们的网关要有高性能、高可用的特性。

高性能要求我们的语言必须是高性能的语言，不太可能用Python来实现一个网关。

高可用要求我们的网关至少要能做到集群化。
- 集群化：网关应用部署在多个服务器上，保证某个服务器宕机后，网关功能正常运行。

由于网关需要与业务对接，所以网关系统最好有良好的扩展性。

## 设计原则

编写网关系统，需要注意一下设计原则

- 业务松耦合，协议紧耦合：网关不应与服务产生耦合，也不能有业务逻辑。不能处理协议负载，只能做解析。非必要情况不应该依赖第三方服务。
- 监控：网关需要对每个API的访问进行监控与统计
- 弹性设计：要实现限流、熔断、验证等功能。

